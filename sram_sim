#! /c/iverilog/bin/vvp
:ivl_version "0.9.7 " "(v0_9_7)";
:vpi_time_precision - 12;
:vpi_module "system";
:vpi_module "v2005_math";
:vpi_module "va_math";
S_010C32A8 .scope module, "tb_sram_controller" "tb_sram_controller" 2 11;
 .timescale -9 -12;
P_010D6DC4 .param/l "ADDR_WIDTH" 2 14, +C4<01000>;
P_010D6DD8 .param/l "CLK_PERIOD" 2 16, +C4<01010>;
P_010D6DEC .param/l "DATA_WIDTH" 2 15, +C4<010000>;
v0110C340_0 .net "ack_o", 0 0, v0110B1C8_0; 1 drivers
v0110BFD0_0 .var "addr_i", 7 0;
v0110C2E8_0 .var "clk", 0 0;
v0110C600_0 .net "rdata_o", 15 0, v0110B220_0; 1 drivers
v0110C6B0_0 .var "req_i", 0 0;
v0110C708_0 .var "rst_n", 0 0;
v0110BE70_0 .net "sram_addr", 7 0, v0110B2D0_0; 1 drivers
v0110BCB8_0 .net "sram_ce", 0 0, v0110AEB0_0; 1 drivers
RS_010DC0B4 .resolv tri, L_0110BF78, L_0110C238, C4<zzzzzzzzzzzzzzzz>, C4<zzzzzzzzzzzzzzzz>;
v0110BDC0_0 .net8 "sram_data", 15 0, RS_010DC0B4; 2 drivers
v0110BE18_0 .net "sram_oe", 0 0, v0110B068_0; 1 drivers
v0110C398_0 .net "sram_we", 0 0, v0110C658_0; 1 drivers
v0110BD68_0 .var "wdata_i", 15 0;
v0110BD10_0 .var "wr_en_i", 0 0;
S_010C2BC0 .scope task, "read_mem" "read_mem" 2 101, 2 101, S_010C32A8;
 .timescale -9 -12;
v0110C130_0 .var "address", 7 0;
v0110C5A8_0 .var "expected_data", 15 0;
TD_tb_sram_controller.read_mem ;
    %vpi_call 2 103 "$display", "[%0t] >> Reading from address 0x%h", $time, v0110C130_0;
    %wait E_010C7C40;
    %ix/load 0, 1, 0;
    %assign/v0 v0110C6B0_0, 0, 1;
    %ix/load 0, 1, 0;
    %assign/v0 v0110BD10_0, 0, 0;
    %load/v 8, v0110C130_0, 8;
    %ix/load 0, 8, 0;
    %assign/v0 v0110BFD0_0, 0, 8;
    %wait E_010C7C40;
T_0.0 ;
    %load/v 8, v0110C340_0, 1;
    %inv 8, 1;
    %jmp/0xz T_0.1, 8;
    %wait E_010C7C40;
    %jmp T_0.0;
T_0.1 ;
    %load/v 8, v0110C600_0, 16;
    %load/v 24, v0110C5A8_0, 16;
    %cmp/u 8, 24, 16;
    %jmp/0xz  T_0.2, 4;
    %vpi_call 2 111 "$display", "[%0t] << Read data: 0x%h (Correct!)", $time, v0110C600_0;
    %jmp T_0.3;
T_0.2 ;
    %vpi_call 2 113 "$display", "[%0t] << Read data: 0x%h (ERROR! Expected: 0x%h)", $time, v0110C600_0, v0110C5A8_0;
T_0.3 ;
    %ix/load 0, 1, 0;
    %assign/v0 v0110C6B0_0, 0, 0;
    %end;
S_010C2B38 .scope task, "write_mem" "write_mem" 2 85, 2 85, S_010C32A8;
 .timescale -9 -12;
v0110C4F8_0 .var "address", 7 0;
v0110C448_0 .var "data", 15 0;
E_010C7C40 .event posedge, v011A7378_0;
TD_tb_sram_controller.write_mem ;
    %vpi_call 2 87 "$display", "[%0t] >> Writing 0x%h to address 0x%h", $time, v0110C448_0, v0110C4F8_0;
    %wait E_010C7C40;
    %ix/load 0, 1, 0;
    %assign/v0 v0110C6B0_0, 0, 1;
    %ix/load 0, 1, 0;
    %assign/v0 v0110BD10_0, 0, 1;
    %load/v 8, v0110C4F8_0, 8;
    %ix/load 0, 8, 0;
    %assign/v0 v0110BFD0_0, 0, 8;
    %load/v 8, v0110C448_0, 16;
    %ix/load 0, 16, 0;
    %assign/v0 v0110BD68_0, 0, 8;
    %wait E_010C7C40;
T_1.4 ;
    %load/v 8, v0110C340_0, 1;
    %inv 8, 1;
    %jmp/0xz T_1.5, 8;
    %wait E_010C7C40;
    %jmp T_1.4;
T_1.5 ;
    %ix/load 0, 1, 0;
    %assign/v0 v0110C6B0_0, 0, 0;
    %vpi_call 2 96 "$display", "[%0t] << Controller acknowledged the write request.", $time;
    %end;
S_010C2AB0 .scope module, "dut" "sram_controller" 2 37, 3 8, S_010C32A8;
 .timescale -9 -12;
P_011A4644 .param/l "ADDR_WIDTH" 3 9, +C4<01000>;
P_011A4658 .param/l "DATA_WIDTH" 3 10, +C4<010000>;
P_011A466C .param/l "IDLE" 3 31, C4<001>;
P_011A4680 .param/l "READ_ACK" 3 35, C4<101>;
P_011A4694 .param/l "READ_CAPTURE" 3 34, C4<100>;
P_011A46A8 .param/l "READ_SETUP" 3 33, C4<011>;
P_011A46BC .param/l "WRITE" 3 32, C4<010>;
v0110AC48_0 .net *"_s0", 3 0, L_0110BEC8; 1 drivers
v0110B380_0 .net *"_s3", 0 0, C4<0>; 1 drivers
v0110ACA0_0 .net *"_s4", 3 0, C4<0010>; 1 drivers
v0110AF08_0 .net *"_s6", 0 0, L_0110BF20; 1 drivers
v0110B118_0 .net *"_s8", 15 0, C4<zzzzzzzzzzzzzzzz>; 0 drivers
v0110B1C8_0 .var "ack_o", 0 0;
v0110AF60_0 .net "addr_i", 7 0, v0110BFD0_0; 1 drivers
v0110ACF8_0 .var "addr_reg", 7 0;
v0110AD50_0 .net "clk", 0 0, v0110C2E8_0; 1 drivers
v0110B170_0 .var "current_state", 2 0;
v0110AFB8_0 .var "next_state", 2 0;
v0110B220_0 .var "rdata_o", 15 0;
v0110AE00_0 .net "req_i", 0 0, v0110C6B0_0; 1 drivers
v0110AE58_0 .net "rst_n", 0 0, v0110C708_0; 1 drivers
v0110B2D0_0 .var "sram_addr_o", 7 0;
v0110AEB0_0 .var "sram_ce_o", 0 0;
v0110B010_0 .alias "sram_data_io", 15 0, v0110BDC0_0;
v0110B068_0 .var "sram_oe_o", 0 0;
v0110C658_0 .var "sram_we_o", 0 0;
v0110BC60_0 .net "wdata_i", 15 0, v0110BD68_0; 1 drivers
v0110C188_0 .var "wdata_reg", 15 0;
v0110C550_0 .net "wr_en_i", 0 0, v0110BD10_0; 1 drivers
E_010C7BC0 .event edge, v0110B170_0, v0110ACF8_0, v0110AE00_0, v0110C550_0;
L_0110BEC8 .concat [ 3 1 0 0], v0110B170_0, C4<0>;
L_0110BF20 .cmp/eq 4, L_0110BEC8, C4<0010>;
L_0110BF78 .functor MUXZ 16, C4<zzzzzzzzzzzzzzzz>, v0110C188_0, L_0110BF20, C4<>;
S_010C3088 .scope module, "sram_inst" "sram_model" 2 48, 4 8, S_010C32A8;
 .timescale -9 -12;
P_011AAA14 .param/l "ADDR_WIDTH" 4 10, +C4<01000>;
P_011AAA28 .param/l "DATA_WIDTH" 4 9, +C4<010000>;
L_011AA7A8 .functor AND 1, v0110AEB0_0, L_0110C3F0, C4<1>, C4<1>;
L_011AAAF0 .functor AND 1, L_011AA7A8, v0110B068_0, C4<1>, C4<1>;
v011A9EC8_0 .net *"_s1", 0 0, L_0110C3F0; 1 drivers
v011AACE0_0 .net *"_s2", 0 0, L_011AA7A8; 1 drivers
v010C5FD0_0 .net *"_s4", 0 0, L_011AAAF0; 1 drivers
v010C46B0_0 .net *"_s6", 15 0, L_0110C4A0; 1 drivers
v011A7320_0 .net *"_s8", 15 0, C4<zzzzzzzzzzzzzzzz>; 0 drivers
v011A7378_0 .alias "clk", 0 0, v0110AD50_0;
v011A9C48 .array "memory", 255 0, 15 0;
v011A9CA0_0 .alias "rst_n", 0 0, v0110AE58_0;
v011A9F80_0 .alias "sram_addr_i", 7 0, v0110BE70_0;
v0110ADA8_0 .alias "sram_ce_i", 0 0, v0110BCB8_0;
v0110B278_0 .alias "sram_data_io", 15 0, v0110BDC0_0;
v0110B328_0 .alias "sram_oe_i", 0 0, v0110BE18_0;
v0110B0C0_0 .alias "sram_we_i", 0 0, v0110C398_0;
E_010C7CC0/0 .event negedge, v011A9CA0_0;
E_010C7CC0/1 .event posedge, v011A7378_0;
E_010C7CC0 .event/or E_010C7CC0/0, E_010C7CC0/1;
L_0110C3F0 .reduce/nor v0110C658_0;
L_0110C4A0 .array/port v011A9C48, v0110B2D0_0;
L_0110C238 .functor MUXZ 16, C4<zzzzzzzzzzzzzzzz>, L_0110C4A0, L_011AAAF0, C4<>;
    .scope S_010C2AB0;
T_2 ;
    %wait E_010C7CC0;
    %load/v 8, v0110AE58_0, 1;
    %inv 8, 1;
    %jmp/0xz  T_2.0, 8;
    %movi 8, 1, 3;
    %ix/load 0, 3, 0;
    %assign/v0 v0110B170_0, 0, 8;
    %ix/load 0, 16, 0;
    %assign/v0 v0110B220_0, 0, 0;
    %jmp T_2.1;
T_2.0 ;
    %load/v 8, v0110AFB8_0, 3;
    %ix/load 0, 3, 0;
    %assign/v0 v0110B170_0, 0, 8;
    %load/v 8, v0110B170_0, 3;
    %mov 11, 0, 1;
    %cmpi/u 8, 1, 4;
    %mov 8, 4, 1;
    %load/v 9, v0110AE00_0, 1;
    %and 8, 9, 1;
    %jmp/0xz  T_2.2, 8;
    %load/v 8, v0110AF60_0, 8;
    %ix/load 0, 8, 0;
    %assign/v0 v0110ACF8_0, 0, 8;
    %load/v 8, v0110BC60_0, 16;
    %ix/load 0, 16, 0;
    %assign/v0 v0110C188_0, 0, 8;
T_2.2 ;
    %load/v 8, v0110B170_0, 3;
    %mov 11, 0, 1;
    %cmpi/u 8, 4, 4;
    %jmp/0xz  T_2.4, 4;
    %load/v 8, v0110B010_0, 16;
    %ix/load 0, 16, 0;
    %assign/v0 v0110B220_0, 0, 8;
T_2.4 ;
T_2.1 ;
    %jmp T_2;
    .thread T_2;
    .scope S_010C2AB0;
T_3 ;
    %wait E_010C7BC0;
    %load/v 8, v0110B170_0, 3;
    %set/v v0110AFB8_0, 8, 3;
    %set/v v0110B1C8_0, 0, 1;
    %load/v 8, v0110ACF8_0, 8;
    %set/v v0110B2D0_0, 8, 8;
    %set/v v0110AEB0_0, 0, 1;
    %set/v v0110C658_0, 0, 1;
    %set/v v0110B068_0, 0, 1;
    %load/v 8, v0110B170_0, 3;
    %cmpi/u 8, 1, 3;
    %jmp/1 T_3.0, 6;
    %cmpi/u 8, 2, 3;
    %jmp/1 T_3.1, 6;
    %cmpi/u 8, 3, 3;
    %jmp/1 T_3.2, 6;
    %cmpi/u 8, 4, 3;
    %jmp/1 T_3.3, 6;
    %cmpi/u 8, 5, 3;
    %jmp/1 T_3.4, 6;
    %movi 8, 1, 3;
    %set/v v0110AFB8_0, 8, 3;
    %jmp T_3.6;
T_3.0 ;
    %load/v 8, v0110AE00_0, 1;
    %jmp/0xz  T_3.7, 8;
    %load/v 8, v0110C550_0, 1;
    %jmp/0xz  T_3.9, 8;
    %movi 8, 2, 3;
    %set/v v0110AFB8_0, 8, 3;
    %jmp T_3.10;
T_3.9 ;
    %movi 8, 3, 3;
    %set/v v0110AFB8_0, 8, 3;
T_3.10 ;
T_3.7 ;
    %jmp T_3.6;
T_3.1 ;
    %set/v v0110AEB0_0, 1, 1;
    %set/v v0110C658_0, 1, 1;
    %set/v v0110B1C8_0, 1, 1;
    %movi 8, 1, 3;
    %set/v v0110AFB8_0, 8, 3;
    %jmp T_3.6;
T_3.2 ;
    %set/v v0110AEB0_0, 1, 1;
    %set/v v0110B068_0, 1, 1;
    %movi 8, 4, 3;
    %set/v v0110AFB8_0, 8, 3;
    %jmp T_3.6;
T_3.3 ;
    %set/v v0110AEB0_0, 1, 1;
    %set/v v0110B068_0, 1, 1;
    %movi 8, 5, 3;
    %set/v v0110AFB8_0, 8, 3;
    %jmp T_3.6;
T_3.4 ;
    %set/v v0110B1C8_0, 1, 1;
    %movi 8, 1, 3;
    %set/v v0110AFB8_0, 8, 3;
    %jmp T_3.6;
T_3.6 ;
    %jmp T_3;
    .thread T_3, $push;
    .scope S_010C3088;
T_4 ;
    %wait E_010C7CC0;
    %load/v 8, v011A9CA0_0, 1;
    %inv 8, 1;
    %jmp/0xz  T_4.0, 8;
    %jmp T_4.1;
T_4.0 ;
    %load/v 8, v0110ADA8_0, 1;
    %load/v 9, v0110B0C0_0, 1;
    %and 8, 9, 1;
    %load/v 9, v0110B328_0, 1;
    %inv 9, 1;
    %and 8, 9, 1;
    %jmp/0xz  T_4.2, 8;
    %load/v 8, v0110B278_0, 16;
    %ix/getv 3, v011A9F80_0;
    %jmp/1 t_0, 4;
    %ix/load 0, 16, 0; word width
    %ix/load 1, 0, 0; part off
    %assign/av v011A9C48, 0, 8;
t_0 ;
T_4.2 ;
T_4.1 ;
    %jmp T_4;
    .thread T_4;
    .scope S_010C32A8;
T_5 ;
    %set/v v0110C2E8_0, 0, 1;
T_5.0 ;
    %delay 5000, 0;
    %load/v 8, v0110C2E8_0, 1;
    %inv 8, 1;
    %set/v v0110C2E8_0, 8, 1;
    %jmp T_5.0;
    %end;
    .thread T_5;
    .scope S_010C32A8;
T_6 ;
    %vpi_call 2 61 "$dumpfile", "sram_controller_waves.vcd";
    %vpi_call 2 62 "$dumpvars", 1'sb0, S_010C32A8;
    %set/v v0110C708_0, 0, 1;
    %set/v v0110C6B0_0, 0, 1;
    %delay 20000, 0;
    %set/v v0110C708_0, 1, 1;
    %delay 40000, 0;
    %vpi_call 2 70 "$display", "----------------------------------------";
    %vpi_call 2 71 "$display", "Starting Simulation...";
    %movi 8, 16, 8;
    %set/v v0110C4F8_0, 8, 8;
    %movi 8, 64206, 16;
    %set/v v0110C448_0, 8, 16;
    %fork TD_tb_sram_controller.write_mem, S_010C2B38;
    %join;
    %movi 8, 165, 8;
    %set/v v0110C4F8_0, 8, 8;
    %movi 8, 48879, 16;
    %set/v v0110C448_0, 8, 16;
    %fork TD_tb_sram_controller.write_mem, S_010C2B38;
    %join;
    %movi 8, 16, 8;
    %set/v v0110C130_0, 8, 8;
    %movi 8, 64206, 16;
    %set/v v0110C5A8_0, 8, 16;
    %fork TD_tb_sram_controller.read_mem, S_010C2BC0;
    %join;
    %movi 8, 165, 8;
    %set/v v0110C130_0, 8, 8;
    %movi 8, 48879, 16;
    %set/v v0110C5A8_0, 8, 16;
    %fork TD_tb_sram_controller.read_mem, S_010C2BC0;
    %join;
    %vpi_call 2 79 "$display", "----------------------------------------";
    %vpi_call 2 80 "$display", "Simulation Finished.";
    %vpi_call 2 81 "$finish";
    %end;
    .thread T_6;
# The file index is used to find the file name in the following table.
:file_names 5;
    "N/A";
    "<interactive>";
    "tb_sram_controller.v";
    "sram_controller.v";
    "sram_model.v";
